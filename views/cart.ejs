<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/cart.css'/>
    <link rel='stylesheet' href='/stylesheets/mainpage.css'/>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
  <body>
    <div id="main">
      <div class="container">

        <%- include('partials/login-header') %>

        <%- include('partials/header') %>

      </div>
    </div>

    <div id="content">
        <div id="topic">
            <p id="topic-name">ตะกร้าสินค้า</p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>รูปภาพ</th>
                    <th>ชื่อสินค้า</th>
                    <th>ราคาต่อหน่วย</th>
                    <th>จำนวน</th>
                    <th>ราคารวม</th>
                    <th>จัดการ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><img src="https://via.placeholder.com/50" alt="Product Image"></td>
                    <td>สินค้าตัวอย่าง 1</td>
                    <td>฿100</td>
                    <td>
                        <button class="btn" onclick="changeQuantity(-1)">-</button>
                        <span id="qty1">1</span>
                        <button class="btn" onclick="changeQuantity(1)">+</button>
                    </td>
                    <td id="total1">฿100</td>
                    <td><button class="btn btn-danger" onclick="removeItem(this)">ลบ</button></td>
                </tr>
                
                <tr>
                    <td><img src="https://via.placeholder.com/50" alt="Product Image"></td>
                    <td>สินค้าตัวอย่าง 2</td>
                    <td>฿100</td>
                    <td>
                        <button class="btn" onclick="changeQuantity(-1)">-</button>
                        <span id="qty1">1</span>
                        <button class="btn" onclick="changeQuantity(1)">+</button>
                    </td>
                    <td id="total1">฿100</td>
                    <td><button class="btn btn-danger" onclick="removeItem(this)">ลบ</button></td>
                </tr>
                

            </tbody>
            
        </table>

        <div id="submit">
            <a class="btn btn-secondary" href="/category" style="color: white">ซื้อสินค้าต่อ</a>
            &nbsp;&nbsp;&nbsp;
            <a class="btn btn-warning" href="/paying" style="color: rgb(0, 0, 0)">ชำระเงิน</a>
        </div>
        
    </div>
    

    <%- include('partials/footer') %>

  </div>
  </body>

  <script>
    function changeQuantity(amount) {
        // ตัวอย่างการเปลี่ยนแปลงจำนวนสินค้า
        var qtyElem = document.getElementById('qty1');
        var totalElem = document.getElementById('total1');
        var currentQty = parseInt(qtyElem.textContent);
        var newQty = currentQty + amount;
        if (newQty < 1) newQty = 1;
        qtyElem.textContent = newQty;
        var price = 100; // ราคา
        totalElem.textContent = '฿' + (newQty * price);
    }

    function removeItem(button) {
        var row = button.parentElement.parentElement;
        row.parentElement.removeChild(row);
    }
</script>
</html>
